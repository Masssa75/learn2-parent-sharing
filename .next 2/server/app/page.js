(()=>{var e={};e.id=974,e.ids=[974],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},3205:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=r(260),a=r(8203),i=r(5155),l=r.n(i),n=r(7292),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(t,o);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5104)),"/Users/marcschwyn/Desktop/projects/Learn2/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,9611)),"/Users/marcschwyn/Desktop/projects/Learn2/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9937,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/marcschwyn/Desktop/projects/Learn2/app/page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6681:()=>{},8537:()=>{},1942:(e,t,r)=>{Promise.resolve().then(r.bind(r,2820)),Promise.resolve().then(r.bind(r,1681))},4833:(e,t,r)=>{Promise.resolve().then(r.bind(r,7136)),Promise.resolve().then(r.bind(r,7052))},8358:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3219,23)),Promise.resolve().then(r.t.bind(r,4863,23)),Promise.resolve().then(r.t.bind(r,5155,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,6313,23)),Promise.resolve().then(r.t.bind(r,8530,23)),Promise.resolve().then(r.t.bind(r,8921,23))},1918:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6959,23)),Promise.resolve().then(r.t.bind(r,3875,23)),Promise.resolve().then(r.t.bind(r,8903,23)),Promise.resolve().then(r.t.bind(r,4178,23)),Promise.resolve().then(r.t.bind(r,6013,23)),Promise.resolve().then(r.t.bind(r,7190,23)),Promise.resolve().then(r.t.bind(r,1365,23))},7136:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var s=r(5512),a=r(8009),i=r.n(a);class l extends i().Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t)}render(){return this.state.hasError?this.props.fallback||(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center p-8",children:(0,s.jsxs)("div",{className:"card max-w-md w-full text-center",children:[(0,s.jsx)("h2",{className:"text-title font-bold mb-4",children:"Oops! Something went wrong"}),(0,s.jsx)("p",{className:"text-text-secondary mb-6",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),(0,s.jsx)("button",{onClick:()=>window.location.reload(),className:"btn-primary",children:"Refresh Page"}),!1]})}):this.props.children}}},7052:(e,t,r)=>{"use strict";r.d(t,{default:()=>m});var s=r(5512),a=r(8009),i=r(7801),l=r.n(i),n=r(9334),o=r(6316);function d({url:e,title:t}){let r=(0,o.Zb)(e);return r?(0,s.jsx)("div",{className:"relative w-full aspect-video bg-dark-surface rounded-card overflow-hidden",children:(0,s.jsx)("iframe",{src:(0,o.CZ)(r),title:t||"YouTube video player",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,className:"absolute inset-0 w-full h-full"})}):null}function c({points:e,xp:t,level:r,actionsRemaining:i}){let[l,n]=(0,a.useState)([]),[o,d]=(0,a.useState)(e),[c,p]=(0,a.useState)(!1);(0,a.useRef)(0),(0,a.useRef)(e);let{progress:m,remaining:x}=(()=>{let e=(r-1)*1e3,s=1e3*r;return{progress:(t-e)/(s-e)*100,remaining:s-t}})();return(0,s.jsxs)("div",{className:"relative",children:[c&&(0,s.jsx)("div",{className:"fixed inset-0 pointer-events-none z-50",children:[...Array(20)].map((e,t)=>(0,s.jsx)("div",{className:"absolute animate-fall",style:{left:`${100*Math.random()}%`,animationDelay:`${2*Math.random()}s`,animationDuration:`${3+2*Math.random()}s`},children:(0,s.jsx)("span",{className:"text-2xl",children:"\uD83E\uDE99"})},t))}),(0,s.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-dark-background rounded-card border border-dark-border",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-primary rounded-full flex items-center justify-center text-black font-bold text-lg",children:r}),(0,s.jsx)("span",{className:"text-xs text-text-muted mt-1",children:"Level"})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,s.jsxs)("span",{className:"text-2xl font-bold text-primary relative",children:[o.toLocaleString(),l.map(e=>(0,s.jsxs)("span",{className:"absolute text-sm font-bold animate-float-up",style:{left:`${e.x}px`,top:`${e.y}px`,color:e.points>0?"#F5D547":"#ef4444"},children:[e.points>0?"+":"",e.points]},e.id))]}),(0,s.jsx)("span",{className:"text-sm text-text-muted",children:"points this week"})]}),(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-xs text-text-muted mb-1",children:[(0,s.jsxs)("span",{children:[t.toLocaleString()," XP"]}),(0,s.jsxs)("span",{children:[x.toLocaleString()," to level ",r+1]})]}),(0,s.jsx)("div",{className:"h-2 bg-dark-border rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${m}%`}})})]})]}),void 0!==i&&(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-text-secondary",children:i}),(0,s.jsx)("div",{className:"text-xs text-text-muted",children:"actions left"})]})]})]})}let p=["ALL","APPS","TOYS","BOOKS","ACTIVITIES","TIPS"];function m({showAuthPrompt:e=!0,protectedRoute:t=!1}){let[r,i]=(0,a.useState)([]),[o,m]=(0,a.useState)("ALL"),[x,h]=(0,a.useState)(null),[u,b]=(0,a.useState)(!1),[f,g]=(0,a.useState)(!0),[y,v]=(0,a.useState)(!1),[j,w]=(0,a.useState)(null),[k,N]=(0,a.useState)({title:"",description:"",linkUrl:"",imageUrl:""}),[P,C]=(0,a.useState)(!1),[S,U]=(0,a.useState)(new Set),[E,L]=(0,a.useState)(null),[T,A]=(0,a.useState)({}),_=(0,a.useRef)(0),$=(0,n.useRouter)(),F=async()=>{try{let e=await fetch("/api/auth/logout",{method:"POST",credentials:"include"});if(!e.ok)throw Error(`Logout failed: ${e.status}`);h(null),b(!1),v(!1),$.push("/"),setTimeout(()=>window.location.reload(),100)}catch(e){console.error("Sign out failed:",e),h(null),b(!1),v(!1),$.push("/")}},R=async e=>{if(!u){$.push("/login");return}let t=r.find(t=>t.id===e);if(!t?.liked)try{let t=await fetch("/api/actions",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({actionType:"add_to_profile",targetType:"post",targetId:e})});if(!t.ok){let s=await t.json();if(429===t.status)alert("Rate limit exceeded. Please wait before taking more actions.");else if(409===t.status)i(r.map(t=>t.id===e?{...t,liked:!0}:t));else throw Error(s.message||"Failed to like post");return}let s=await t.json(),a=_.current++;A(t=>({...t,[e]:{points:5,key:a}})),setTimeout(()=>{A(t=>{let r={...t};return r[e]?.key===a&&delete r[e],r})},2e3),s.user&&x&&h({...x,points:s.user.points,totalXp:s.user.total_xp,level:s.user.level,actionsRemaining:s.remaining_actions}),i(r.map(t=>t.id===e?{...t,liked:!0,likes:t.likes+1}:t))}catch(e){console.error("Error liking post:",e)}},D=async e=>{if(!u){$.push("/login");return}let t=r.find(t=>t.id===e);if(!t?.saved)try{let t=await fetch("/api/actions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({actionType:"add_to_watchlist",targetType:"post",targetId:e})});if(!t.ok){let s=await t.json();if(429===t.status)alert("Rate limit exceeded. Please wait before taking more actions.");else if(409===t.status)i(r.map(t=>t.id===e?{...t,saved:!0}:t));else throw Error(s.message||"Failed to save post");return}let s=await t.json(),a=_.current++;A(t=>({...t,[`${e}-save`]:{points:3,key:a}})),setTimeout(()=>{A(t=>{let r={...t};return r[`${e}-save`]?.key===a&&delete r[`${e}-save`],r})},2e3),s.user&&x&&h({...x,points:s.user.points,totalXp:s.user.total_xp,level:s.user.level,actionsRemaining:s.remaining_actions}),i(r.map(t=>t.id===e?{...t,saved:!0}:t))}catch(e){console.error("Error saving post:",e)}},I=async e=>{if(!u){$.push("/login");return}if(confirm("Are you sure you want to report this post? This will cost you 2 points."))try{let t=await fetch("/api/actions",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({actionType:"flag",targetType:"post",targetId:e})});if(!t.ok){let e=await t.json();if(429===t.status)alert("Rate limit exceeded. Please wait before taking more actions.");else throw Error(e.message||"Failed to report post");return}let r=await t.json();r.user&&x&&h({...x,points:r.user.points,totalXp:r.user.total_xp,level:r.user.level,actionsRemaining:r.remaining_actions}),alert("Post reported. Thank you for helping keep the community safe.")}catch(e){console.error("Error reporting post:",e),alert("Failed to report post. Please try again.")}},M=async e=>{if(confirm("Are you sure you want to delete this post?"))try{if(!(await fetch(`/api/posts/${e}`,{method:"DELETE"})).ok)throw Error("Failed to delete post");i(r.filter(t=>t.id!==e))}catch(e){console.error("Error deleting post:",e),alert("Failed to delete post. Please try again.")}},B=e=>{w(e.id),N({title:e.title,description:e.description||"",linkUrl:e.linkUrl||"",imageUrl:e.imageUrl||""})},O=()=>{w(null),N({title:"",description:"",linkUrl:"",imageUrl:""}),C(!1)},W=async e=>{let t=e.target.files?.[0];if(t){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(t.type)){alert("Please select a valid image file (JPEG, PNG, GIF, or WebP)");return}if(t.size>5242880){alert("File size must be less than 5MB");return}C(!0);try{let e=new FormData;e.append("file",t);let r=await fetch("/api/upload",{method:"POST",body:e});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to upload image")}let s=await r.json();N({...k,imageUrl:s.url})}catch(e){console.error("Upload error:",e),alert("Failed to upload image. Please try again.")}finally{C(!1)}}},z=()=>{N({...k,imageUrl:""})},G=async e=>{try{let t=await fetch(`/api/posts/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to update post")}i(r.map(t=>t.id===e?{...t,title:k.title,description:k.description,linkUrl:k.linkUrl,imageUrl:k.imageUrl}:t)),w(null),N({title:"",description:"",linkUrl:"",imageUrl:""}),C(!1)}catch(e){console.error("Error updating post:",e),alert(e instanceof Error?e.message:"Failed to update post. Please try again.")}},V=e=>{try{return new URL(e).hostname}catch{return e}},H=e=>{let t=new Set(S);t.has(e)?t.delete(e):t.add(e),U(t)},q="ALL"===o?r||[]:(r||[]).filter(e=>{let t=e.category?.name;return t&&t===({APPS:"Apps & Software",TOYS:"Toys & Games",BOOKS:"Books",ACTIVITIES:"Activities",TIPS:"Parenting Tips"})[o]});return(0,s.jsxs)("div",{className:"min-h-screen bg-dark-bg",children:[(0,s.jsx)("div",{className:"sticky top-0 bg-dark-bg z-10",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto px-5 pt-6 pb-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h1",{className:"text-display text-text-primary",children:"Discover"}),u?(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[x&&(0,s.jsx)(c,{points:x.points||0,xp:x.totalXp||0,level:x.level||1,actionsRemaining:x.actionsRemaining}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:()=>v(!y),className:"w-12 h-12 bg-brand-yellow rounded-avatar flex items-center justify-center overflow-hidden relative group",title:x?.displayName||"Profile",children:[x?.photoUrl&&(0,s.jsx)("img",{src:x.photoUrl,alt:x.displayName,className:"w-full h-full object-cover absolute inset-0",onError:e=>{e.currentTarget.style.display="none"},onLoad:e=>{let t=e.currentTarget;(0===t.naturalWidth||0===t.naturalHeight)&&(t.style.display="none")}}),(0,s.jsx)("span",{className:`${x?.firstName?"text-black font-semibold text-2xl":"text-xl"} flex items-center justify-center w-full h-full`,children:x?.firstName?x.firstName.charAt(0).toUpperCase():x?"U":"\uD83D\uDC64"})]}),y&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-dark-surface rounded-card shadow-lg py-2 border border-dark-border",children:[(0,s.jsx)(l(),{href:"/profile",className:"block w-full text-left px-4 py-2 text-text-primary hover:bg-white/5",children:"View Profile"}),x?.isAdmin&&(0,s.jsx)(l(),{href:"/admin",className:"block w-full text-left px-4 py-2 text-text-primary hover:bg-white/5",children:"Admin Dashboard"}),(0,s.jsx)("button",{onClick:F,className:"w-full text-left px-4 py-2 text-text-primary hover:bg-white/5",children:"Sign Out"})]})]})]}):(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("button",{onClick:()=>$.push("/login"),className:"bg-brand-yellow/20 border border-brand-yellow text-brand-yellow rounded-button px-4 py-2 text-sm font-semibold uppercase tracking-wider hover:bg-brand-yellow/30 transition-all cursor-pointer",children:"CLAIM +100"}),(0,s.jsx)(l(),{href:"/login",className:"px-6 py-3 bg-brand-yellow text-black rounded-button font-semibold hover:scale-105 btn-transition",children:"SIGN IN"})]})]}),(0,s.jsx)("p",{className:"text-text-secondary text-body-lg mb-6",children:"What's working for parents today"}),(0,s.jsx)("div",{className:"flex gap-3 overflow-x-auto scrollbar-hide pb-2",children:p.map(e=>(0,s.jsx)("button",{onClick:()=>m(e),className:`px-6 py-3 rounded-button whitespace-nowrap transition-all font-semibold text-body ${o===e?"bg-brand-yellow text-black":"bg-transparent text-text-primary border border-dark-border hover:bg-white/5"}`,children:e},e))})]})}),u&&x&&(0,s.jsx)("div",{className:"max-w-2xl mx-auto px-5",children:(0,s.jsx)(c,{points:x.points||0,xp:x.totalXp||0,level:x.level||1,actionsRemaining:x.actionsRemaining||0})}),(0,s.jsx)("div",{className:"max-w-2xl mx-auto px-5 pb-20 custom-scrollbar",children:f?(0,s.jsx)("div",{className:"text-center py-8",children:(0,s.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-brand-yellow"})}):0===q.length?(0,s.jsxs)("div",{className:"text-center py-16",children:[(0,s.jsx)("p",{className:"text-text-secondary text-body-lg mb-4",children:"No posts yet"}),(0,s.jsx)("p",{className:"text-text-muted text-body",children:u?"Be the first to share something amazing!":"Sign in to start sharing your discoveries"})]}):q.map(e=>(0,s.jsxs)("div",{className:"mb-8",children:[j===e.id?(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("input",{type:"text",value:k.title,onChange:e=>N({...k,title:e.target.value}),className:"w-full px-4 py-3 bg-dark-surface border border-dark-border rounded-input text-text-primary mb-3 focus:outline-none focus:border-brand-yellow",placeholder:"Title"}),(0,s.jsx)("textarea",{value:k.description,onChange:e=>{N({...k,description:e.target.value}),e.target.style.height="auto",e.target.style.height=e.target.scrollHeight+"px"},className:"w-full px-4 py-3 bg-dark-surface border border-dark-border rounded-input text-text-primary mb-3 focus:outline-none focus:border-brand-yellow resize-y overflow-hidden",placeholder:"Description",rows:3,style:{minHeight:"100px"}}),(0,s.jsx)("input",{type:"text",value:k.linkUrl,onChange:e=>N({...k,linkUrl:e.target.value}),className:"w-full px-4 py-3 bg-dark-surface border border-dark-border rounded-input text-text-primary mb-3 focus:outline-none focus:border-brand-yellow",placeholder:"Link URL (optional)"}),(0,s.jsx)("div",{className:"mb-3",children:k.imageUrl?(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("img",{src:k.imageUrl,alt:"Post image",className:"w-full h-48 object-cover rounded-card mb-2"}),(0,s.jsx)("button",{onClick:z,className:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1 w-6 h-6 flex items-center justify-center text-xs",children:"\xd7"})]}):(0,s.jsxs)("div",{className:"border-2 border-dashed border-dark-border rounded-card p-4 text-center",children:[(0,s.jsx)("input",{type:"file",id:"imageUpload",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:W,className:"hidden",disabled:P}),(0,s.jsx)("label",{htmlFor:"imageUpload",className:`cursor-pointer ${P?"opacity-50":""}`,children:P?(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-yellow"}),(0,s.jsx)("span",{className:"text-text-muted",children:"Uploading..."})]}):(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,s.jsx)("svg",{className:"w-8 h-8 text-text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,s.jsx)("span",{className:"text-text-muted text-sm",children:"Click to add image"}),(0,s.jsx)("span",{className:"text-text-muted text-xs",children:"JPEG, PNG, GIF, WebP up to 5MB"})]})})]})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"text-4xl text-text-primary mb-4 font-semibold",children:e.title}),e.description&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("p",{className:`text-body text-gray-300 leading-relaxed ${S.has(e.id)?"":"line-clamp-2"}`,children:e.description}),e.description.length>150&&(0,s.jsx)("button",{onClick:()=>H(e.id),className:"text-text-muted hover:text-text-secondary text-sm mt-1",children:S.has(e.id)?"Show less":"Read more"})]})]}),e.imageUrl&&(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)("img",{src:e.imageUrl,alt:e.title,className:"w-full h-auto rounded-card"})}),e.youtubeVideoId&&(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)(d,{url:`https://www.youtube.com/watch?v=${e.youtubeVideoId}`,title:e.title})}),e.linkUrl&&!e.youtubeVideoId&&(0,s.jsx)("div",{className:"bg-dark-surface rounded-card p-4 mb-6",children:(0,s.jsxs)("a",{href:e.linkUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 text-brand-yellow hover:underline",children:[(0,s.jsx)("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),(0,s.jsx)("span",{className:"truncate",children:V(e.linkUrl)})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm text-text-muted mb-4",children:[(0,s.jsx)("span",{className:"text-text-secondary",children:e.user?.name||"Anonymous"}),(0,s.jsxs)("div",{className:"flex items-center gap-5",children:[(0,s.jsxs)("button",{onClick:()=>R(e.id),className:`relative flex items-center gap-1.5 transition-colors ${e.liked?"text-brand-yellow":"text-text-muted hover:text-text-secondary"}`,disabled:e.liked,children:[(0,s.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:e.liked?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),(0,s.jsx)("span",{children:e.likes>0?e.likes:"Like"}),T[e.id]&&(0,s.jsxs)("span",{className:"absolute -top-2 left-1/2 -translate-x-1/2 text-sm font-bold text-brand-yellow animate-float-up pointer-events-none",style:{animationDuration:"2s",animationFillMode:"forwards"},children:["+",T[e.id].points]})]}),(0,s.jsxs)("button",{onClick:()=>{},className:"flex items-center gap-1.5 text-text-muted hover:text-text-secondary transition-colors",children:[(0,s.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})}),(0,s.jsx)("span",{children:e.comments>0?e.comments:"Comment"})]}),(0,s.jsxs)("button",{onClick:()=>D(e.id),className:`relative flex items-center gap-1.5 transition-colors ${e.saved?"text-brand-yellow":"text-text-muted hover:text-text-secondary"}`,disabled:e.saved,children:[(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,s.jsx)("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),(0,s.jsx)("polyline",{points:"16 6 12 2 8 6"}),(0,s.jsx)("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]}),(0,s.jsx)("span",{children:"Share"}),T[`${e.id}-save`]&&(0,s.jsxs)("span",{className:"absolute -top-2 left-1/2 -translate-x-1/2 text-sm font-bold text-brand-yellow animate-float-up pointer-events-none",style:{animationDuration:"2s",animationFillMode:"forwards"},children:["+",T[`${e.id}-save`].points]})]}),(0,s.jsxs)("div",{className:"relative post-menu",children:[(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),L(E===e.id?null:e.id)},className:"p-1 -m-1 hover:bg-white/5 rounded-full transition-colors",children:(0,s.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-text-muted",children:[(0,s.jsx)("circle",{cx:"12",cy:"5",r:"1"}),(0,s.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,s.jsx)("circle",{cx:"12",cy:"19",r:"1"})]})}),E===e.id&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-dark-surface rounded-card shadow-lg py-2 border border-dark-border z-10",children:[x&&(e.userId===x.id||x.isAdmin)&&(0,s.jsxs)("button",{onClick:()=>{B(e),L(null)},className:"w-full text-left px-4 py-2 text-text-primary hover:bg-white/5 flex items-center gap-3",children:[(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,s.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,s.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Edit post"]}),(0,s.jsxs)("button",{onClick:()=>{alert("Link copied!"),L(null)},className:"w-full text-left px-4 py-2 text-text-primary hover:bg-white/5 flex items-center gap-3",children:[(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,s.jsx)("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),(0,s.jsx)("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]}),"Copy link"]}),(0,s.jsxs)("button",{onClick:()=>{I(e.id),L(null)},className:"w-full text-left px-4 py-2 text-text-primary hover:bg-white/5 flex items-center gap-3",children:[(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,s.jsx)("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),(0,s.jsx)("line",{x1:"4",y1:"22",x2:"4",y2:"15"})]}),"Report"]}),x?.isAdmin&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"border-t border-dark-border my-2"}),(0,s.jsxs)("button",{onClick:()=>{M(e.id),L(null)},className:"w-full text-left px-4 py-2 text-red-500 hover:bg-white/5 flex items-center gap-3",children:[(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,s.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,s.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),"Delete post"]})]})]})]})]})]}),j===e.id&&(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("button",{onClick:()=>G(e.id),className:"px-5 py-2.5 bg-brand-yellow text-black rounded-button font-semibold hover:scale-105 btn-transition",children:"SAVE"}),(0,s.jsx)("button",{onClick:O,className:"px-5 py-2.5 bg-transparent text-text-primary border border-dark-border rounded-button font-semibold hover:bg-white/5 btn-transition",children:"CANCEL"})]})]},e.id))}),u&&(0,s.jsx)(l(),{href:"/create",className:"fixed bottom-8 right-6 w-16 h-16 bg-brand-yellow rounded-fab flex items-center justify-center shadow-xl shadow-brand-yellow/40 text-black text-4xl font-light hover:scale-110 hover:shadow-2xl hover:shadow-brand-yellow/60 active:scale-95 btn-transition z-50",children:"+"})]})}},6316:(e,t,r)=>{"use strict";function s(e){try{let t=new URL(e);if("www.youtube.com"===t.hostname||"youtube.com"===t.hostname){if("/watch"===t.pathname)return t.searchParams.get("v");if(t.pathname.startsWith("/embed/"))return t.pathname.split("/")[2]}if("youtu.be"===t.hostname)return t.pathname.slice(1);return null}catch{return null}}function a(e){return`https://img.youtube.com/vi/${e}/maxresdefault.jpg`}function i(e){return`https://www.youtube.com/embed/${e}`}function l(e){return null!==s(e)}r.d(t,{CZ:()=>i,I9:()=>a,Zb:()=>s,t$:()=>l})},9611:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,metadata:()=>l});var s=r(2740);r(2704);var a=r(9258),i=r.n(a);let l={title:"Learn2 - Parent Sharing Platform",description:"Discover and share apps, toys, books, and tips that work for your kids"};function n({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:`${i().className} bg-background text-white`,children:e})})}},5104:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(2740),a=r(1681),i=r(2820);function l(){return(0,s.jsx)(i.default,{children:(0,s.jsx)(a.default,{})})}},2820:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/marcschwyn/Desktop/projects/Learn2/components/ErrorBoundary.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/marcschwyn/Desktop/projects/Learn2/components/ErrorBoundary.tsx","default")},1681:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/marcschwyn/Desktop/projects/Learn2/components/FeedComponent.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/marcschwyn/Desktop/projects/Learn2/components/FeedComponent.tsx","default")},2704:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[989,101,880],()=>r(3205));module.exports=s})();